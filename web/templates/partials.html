<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>Source</th>
      <th>Received At</th>
      <th>Status</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    {{range .Webhooks}}
    <tr id="webhook-{{.ID}}">
      <td>{{.ID}}</td>
      <td>{{.Source}}</td>
      <td>{{.ReceivedAt}}</td>
      <td class="status-{{.Status}}">{{.Status}}</td>
      <td>
        <a
          hx-post="/api/webhooks/replay?id={{.ID}}"
          hx-swap="outerHTML"
          hx-target="this"
          hx-trigger="click"
          class="replay-link"
        >🔁 Retry</a>

        |
        <a href="/partials/webhook/{{.ID}}" target="_blank">🔍 Inspect</a>

        |
        <a
          href="#"
          onclick="if(confirm('Delete this webhook?')) { this.setAttribute('hx-post', '/api/webhooks/delete?id={{.ID}}'); }"
          hx-post="/api/webhooks/delete?id={{.ID}}"
          hx-target="#webhook-{{.ID}}"
          hx-swap="outerHTML"
          class="replay-link"
        >🗑 Delete</a>
      </td>    
    </tr>
    {{end}}  
  </tbody>
</table>
